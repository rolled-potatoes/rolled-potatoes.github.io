{"version":3,"sources":["context/dish.tsx","api/config.ts","api/dish.ts","component/main/menus/menu.tsx","component/main/menus/index.tsx","component/main/inputs/index.tsx","template/main.tsx","component/common/header/index.tsx","page/main.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["initialState","dishs","types","setDishs","setTypes","DishState","createContext","DishStateDispatch","dishReducer","state","action","type","useDishState","useContext","DishStateProvider","children","useReducer","dispatch","Provider","value","instance","axios","create","baseURL","process","timeout","getAllDishs","a","get","result","data","getAllTypes","Menu","name","index","onMenuClick","isFilter","onClick","className","Menus","filter","map","has","DishInputs","dishState","resultRef","useRef","useState","selectedDish","setSelectedDish","useEffect","current","fontSize","clientWidth","length","style","ref","filteredDish","dish","picked","Math","floor","random","MainTemplate","header","main","menu","Main","dispath","Set","setFilter","init","e","target","newFilter","f","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd7bca9d.chunk.js","sourcesContent":["import React, {\n  useReducer,\n  createContext,\n  ReactChild,\n  useContext,\n  Dispatch,\n} from 'react';\nimport { Tdish } from '@/model/dish';\n\ninterface TdishStore {\n  dishs: Tdish[];\n  types: string[];\n}\nconst initialState: TdishStore = {\n  dishs: [],\n  types: [],\n};\nexport const setDishs = 'SET_DISHS' as const;\nexport const setTypes = 'SET_TYPES' as const;\n\ntype Taction =\n  | { type: typeof setDishs; dishs: Tdish[] }\n  | { type: typeof setTypes; types: string[] };\n\nconst DishState = createContext<TdishStore>(initialState);\nconst DishStateDispatch = createContext<Dispatch<Taction> | null>(null);\n\nfunction dishReducer(state: TdishStore, action: Taction) {\n  switch (action.type) {\n    case setDishs: {\n      if (action.dishs) {\n        return { ...state, dishs: action.dishs };\n      }\n      return state;\n    }\n    case setTypes: {\n      if (action.types) return { ...state, types: action.types };\n      return state;\n    }\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction DishStateProvider({ children }: { children: ReactChild }) {\n  const [state, dispatch] = useReducer(dishReducer, initialState);\n  return (\n    <DishState.Provider value={state}>\n      <DishStateDispatch.Provider value={dispatch}>\n        {children}\n      </DishStateDispatch.Provider>\n    </DishState.Provider>\n  );\n}\n\nexport function useDishState() {\n  const state = useContext(DishState);\n  return state;\n}\nexport function useDishStateMethod() {\n  const dispatch = useContext(DishStateDispatch);\n  return dispatch;\n}\n\nexport default DishStateProvider;\n","import axios from 'axios';\n\nconst { REACT_APP_ORIGIN_BASE } = process.env;\n\nconst instance = axios.create({\n  baseURL: REACT_APP_ORIGIN_BASE,\n  timeout: 1000,\n});\n\nexport default instance;\n","import axios from '@/api/config';\nimport { Tdish } from '@/model/dish';\n\nexport async function getAllDishs(): Promise<Tdish[]> {\n  const result = await axios.get('/dishs.json');\n  return result.data;\n}\n\nexport async function getAllTypes(): Promise<string[]> {\n  const result = await axios.get('/types.json');\n  return result.data;\n}\n\nexport default {};\n","import React, { MouseEvent } from 'react';\nimport './style.scss';\n\ntype Tmenu = {\n  name: string;\n  index: number;\n  onMenuClick: (e: MouseEvent<HTMLButtonElement>) => void;\n  isFilter: boolean;\n};\n\nfunction Menu({ name, index, onMenuClick, isFilter }: Tmenu) {\n  return (\n    <button\n      type='button'\n      value={index}\n      onClick={onMenuClick}\n      className={`${isFilter ? 'picked' : ''} menu`}\n    >\n      {name}\n    </button>\n  );\n}\n\nexport default Menu;\n","import React, { MouseEvent } from 'react';\nimport { useDishState } from '@/context/dish';\nimport Menu from './menu';\nimport './style.scss';\n\ntype Tmenus = {\n  filter: Set<number>;\n  onMenuClick: (e: MouseEvent<HTMLButtonElement>) => void;\n};\nfunction Menus({ filter, onMenuClick }: Tmenus) {\n  const { types } = useDishState();\n\n  return (\n    <div className='menu-container'>\n      <div>\n        필터링 목록\n        <div className='menu-guide'>\n          <div className='picked sample' />\n          제외된 것.\n        </div>\n      </div>\n\n      <div className='menus'>\n        {types.map((type, index) => (\n          <Menu\n            index={index}\n            name={type}\n            key={type}\n            onMenuClick={onMenuClick}\n            isFilter={filter.has(index)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Menus;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useDishState } from '@/context/dish';\nimport { Tdish } from '@/model/dish';\nimport './style.scss';\n\nconst DishInputs = ({ filter }: { filter: Set<number> }) => {\n  const dishState = useDishState();\n  const resultRef = useRef<HTMLDivElement>(null);\n  const [selectedDish, setSelectedDish] = useState<string>('');\n\n  const onStartButton = () => {\n    const filteredDish = dishState.dishs.filter(dish => !filter.has(dish.type));\n    const randomPosition = Math.floor(Math.random() * filteredDish.length);\n    const picked: Tdish | undefined = filteredDish[randomPosition];\n    if (!picked) return;\n    setSelectedDish(picked.name);\n  };\n  useEffect(() => {\n    if (resultRef.current) {\n      const { clientWidth } = resultRef.current;\n      const fontSize = clientWidth / selectedDish.length;\n      resultRef.current.style.fontSize = `${fontSize}px`;\n    }\n  }, [selectedDish]);\n\n  return (\n    <div className='dish-inputs_container'>\n      <div className='dish-inputs_result dish-inputs_inputs' ref={resultRef}>\n        {selectedDish}\n      </div>\n      <button\n        type='button'\n        onClick={onStartButton}\n        className=' dish-inputs_inputs dish-inputs_btn'\n      >\n        뭐먹지?\n      </button>\n    </div>\n  );\n};\n\nexport default DishInputs;\n","import React, { ReactElement } from 'react';\nimport './main.scss';\n\ntype TmainTemplate = {\n  header: ReactElement;\n  menu: ReactElement;\n  main: ReactElement;\n};\nconst MainTemplate = ({ header, main, menu }: TmainTemplate) => {\n  return (\n    <div className='main-template-container'>\n      <aside className='main-aside'>\n        <div className='main-title'>{header}</div>\n        <div>{menu}</div>\n      </aside>\n      <main>{main}</main>\n    </div>\n  );\n};\n\nexport default MainTemplate;\n","import React from 'react';\nimport './style.scss';\n\nconst header = () => {\n  return (\n    <header>\n      <h1>랜덤 음식 선택기</h1>\n    </header>\n  );\n};\n\nexport default header;\n","import React, { useEffect, useState, MouseEvent } from 'react';\nimport { getAllDishs, getAllTypes } from '@/api/dish';\nimport { useDishStateMethod, setDishs, setTypes } from '@/context/dish';\nimport Menus from '@/component/main/menus';\nimport DishInputs from '@/component/main/inputs';\nimport MainTemplate from '@/template/main';\nimport Header from '@/component/common/header';\nimport './main.scss';\n\nfunction Main() {\n  const dispath = useDishStateMethod();\n  const [filter, setFilter] = useState<Set<number>>(new Set());\n\n  const init = async () => {\n    const dishs = await getAllDishs();\n    const types = await getAllTypes();\n    if (dispath) {\n      dispath({ type: setDishs, dishs });\n      dispath({ type: setTypes, types });\n    }\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const filterButtonHandler = (e: MouseEvent<HTMLButtonElement>) => {\n    const { value } = e.target as any;\n    const newFilter = filter.has(+value)\n      ? new Set([...filter].filter(f => f !== +value))\n      : new Set([...filter, +value]);\n    setFilter(newFilter);\n  };\n\n  return (\n    <MainTemplate\n      header={<Header />}\n      main={<DishInputs filter={filter} />}\n      menu={<Menus onMenuClick={filterButtonHandler} filter={filter} />}\n    />\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport MainPage from '@/page/main';\n\nfunction App() {\n  return <MainPage />;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport DishProvider from '@/context/dish';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <DishProvider>\n      <App />\n    </DishProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}